checking return value with properly initialized buffer but fd is greater than NOFILE