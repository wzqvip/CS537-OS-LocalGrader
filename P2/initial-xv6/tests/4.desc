checking return value with properly initialized buffer but negative fd